# Configuration File for Kraken Trading Bot

[kraken_api]
# Store API credentials securely using environment variables or secret managers.
# Leave empty and use environment variables: KRAKEN_API_KEY and KRAKEN_API_SECRET
key = ""
secret = ""

[bot_settings]
base_currency = "EUR"
auto_select_pair = true

# Kraken-normalized EUR pairs (altname format preferred)
trade_pairs = [
    "XXBTZEUR",  # Bitcoin
    "XETHZEUR",  # Ethereum
    "SOLEUR",    # Solana
    "ADAEUR",    # Cardano
    "DOTEUR",    # Polkadot
    "XXRPZEUR",  # Ripple
    "LINKEUR"    # Chainlink
]

[bot_settings.min_volumes]
XXBTZEUR = 0.0001
XETHZEUR = 0.001
SOLEUR = 0.02
ADAEUR = 5.0
DOTEUR = 0.2
XXRPZEUR = 5.0
LINKEUR = 0.2

[bot_settings.trade_amounts]
trade_amount_eur = 1000.0
initial_balance = 10000.0
target_balance_eur = 10000.0

[risk_management]
max_drawdown_percent = 5.0
stop_loss_percent = 2.0
# dynamic sizing uses this % of available EUR, capped by trade_amount_eur
allocation_per_trade_percent = 90.0
# Entry quality filter: lowered for faster re-entry after risk-off phases
min_buy_score = 14.0
# Sell only once profit reaches this threshold above average entry
take_profit_percent = 5.0
# Adaptive TP in strong momentum (extends up to max_take_profit_percent)
adaptive_take_profit = true
max_take_profit_percent = 8.0
# Exit if price drops this % from its peak (only active if in profit)
trailing_stop_percent = 1.0

# Mentor v2 hardening (single auto-bot; no manual mode switching)
enable_regime_filter = true
regime_benchmark_pair = "XBTEUR"
regime_min_score = -12.0
enable_mtf_regime_scoring = true
mtf_regime_min_score = -2.0
# Do not auto-sell at a loss: disable hard stop loss
enable_hard_stop_loss = false
hard_stop_loss_percent = 4.0
# Sell logic: require minimum profit and allow higher TP in bull run
enable_time_stop = true
time_stop_hours = 72
# Aggressive autonomy: disable daily drawdown cutoff and favor full allocation
enable_daily_drawdown = false
daily_loss_limit_percent = 90.0
risk_off_allocation_multiplier = 0.60
enable_volatility_targeting = true
target_volatility_pct = 1.6
max_consecutive_losses = 10
pause_after_loss_streak_minutes = 60
# Take-profit settings: base 3% (fees added on top), bull-run cap 7%
take_profit_percent = 3.0
adaptive_take_profit = true
max_take_profit_percent = 7.0
# Small buffer to cover fees (percent added to required TP)
sell_fee_buffer_percent = 0.30

# ATR stop settings (adaptive stop based on recent volatility)
enable_atr_stop = true
atr_period = 14
atr_multiplier = 1.5
atr_trail_multiplier = 0.75

# Pyramiding (add-to-winner) - disabled by default
enable_pyramiding = false
pyramiding_add_pct = 0.5  # add when position is this fraction in profit (50% = half way to TP)

# Execution/risk guards
max_open_positions = 7
trade_cooldown_seconds = 240
global_trade_cooldown_seconds = 360
# Suppress repeated empty SELL logs per pair (seconds)
empty_sell_log_cooldown_seconds = 1800
min_trade_eur = 10.0

[shorting]
enabled = true
leverage = "2"
max_short_notional_eur = 50.0

[logging]
log_level = "INFO"
log_to_file = true
log_file_path = "logs/bot_activity.log"
fresh_log_on_start = true

[backtesting]
historical_data_path = "data/historical_prices.csv"
results_output_path = "backtest_results/"

[reporting]
generate_trade_reports = true
report_output_path = "reports/"
